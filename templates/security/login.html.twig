{% extends 'base.html.twig' %}

{% block title %}Connexion - Backoffice
{% endblock %}

{% block body_login %}
	<div class="min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900">
		<div
			class="w-full max-w-md">
			<!-- Logo -->
			<div class="text-center mb-8">
				<h1 class="text-4xl font-bold bg-gradient-to-r from-indigo-400 via-purple-500 to-pink-500 bg-clip-text text-transparent">
					Backoffice
				</h1>
				<p class="text-gray-400 mt-2">Connectez-vous à votre compte</p>
			</div>

			<!-- Login Card -->
			<div class="bg-gray-800/50 backdrop-blur-xl rounded-2xl shadow-2xl border border-gray-700/50 p-8">
				{% if error %}
					<div class="mb-6 p-4 rounded-lg bg-red-500/20 border border-red-500/30 text-red-400">
						<div class="flex items-center gap-2">
							<svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
							</svg>
							<span>{{ error.messageKey|trans(error.messageData, 'security') }}</span>
						</div>
					</div>
				{% endif %}

				<form method="post" class="space-y-6">
					<div>
						<label for="username" class="block text-sm font-medium text-gray-300 mb-2">Email</label>
						<div class="relative">
							<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
								<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"/>
								</svg>
							</div>
							<input type="email" name="_username" id="username" value="{{ last_username }}" required autofocus class="w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200" placeholder="votre@email.com">
						</div>
					</div>

					<div>
						<label for="password" class="block text-sm font-medium text-gray-300 mb-2">Mot de passe</label>
						<div class="relative">
							<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
								<svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewbox="0 0 24 24">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
								</svg>
							</div>
							<input type="password" name="_password" id="password" required class="w-full pl-10 pr-4 py-3 bg-gray-700/50 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all duration-200" placeholder="••••••••">
						</div>
					</div>

					<input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

					<button type="submit" class="w-full py-3 px-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold rounded-lg hover:from-indigo-500 hover:to-purple-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-800 transition-all duration-200 transform hover:scale-[1.02]">
						Se connecter
					</button>
				</form>
			</div>

			<!-- Test Credentials -->
			<div class="mt-6 bg-gray-800/30 backdrop-blur-xl rounded-xl border border-gray-700/50 p-4">
				<p class="text-xs text-gray-400 mb-3 text-center font-medium uppercase tracking-wider">Comptes de test</p>
				<div class="space-y-2">
					<button type="button" onclick="fillCredentials('admin@example.com', 'admin123')" class="w-full flex items-center justify-between px-3 py-2 rounded-lg bg-red-500/10 border border-red-500/20 hover:bg-red-500/20 transition-all duration-200 group">
						<div class="flex items-center gap-2">
							<span class="px-2 py-0.5 text-xs font-semibold rounded bg-red-500/30 text-red-400">ADMIN</span>
							<span class="text-sm text-gray-300">admin@example.com</span>
						</div>
						<span class="text-xs text-gray-500 group-hover:text-gray-400">admin123</span>
					</button>
					<button type="button" onclick="fillCredentials('manager@example.com', 'manager123')" class="w-full flex items-center justify-between px-3 py-2 rounded-lg bg-amber-500/10 border border-amber-500/20 hover:bg-amber-500/20 transition-all duration-200 group">
						<div class="flex items-center gap-2">
							<span class="px-2 py-0.5 text-xs font-semibold rounded bg-amber-500/30 text-amber-400">MANAGER</span>
							<span class="text-sm text-gray-300">manager@example.com</span>
						</div>
						<span class="text-xs text-gray-500 group-hover:text-gray-400">manager123</span>
					</button>
					<button type="button" onclick="fillCredentials('user@example.com', 'user123')" class="w-full flex items-center justify-between px-3 py-2 rounded-lg bg-blue-500/10 border border-blue-500/20 hover:bg-blue-500/20 transition-all duration-200 group">
						<div class="flex items-center gap-2">
							<span class="px-2 py-0.5 text-xs font-semibold rounded bg-blue-500/30 text-blue-400">USER</span>
							<span class="text-sm text-gray-300">user@example.com</span>
						</div>
						<span class="text-xs text-gray-500 group-hover:text-gray-400">user123</span>
					</button>
				</div>
			</div>

			<!-- Footer -->
			<p class="text-center text-gray-500 text-sm mt-8">
				©
				{{ 'now'|date('Y') }}
				Backoffice. Tous droits réservés.
			</p>

			<script>
				function fillCredentials(email, password) {
document.getElementById('username').value = email;
document.getElementById('password').value = password;
document.getElementById('username').focus();
}
			</script>
		</div>
	</div>
{% endblock %}
